{"version":3,"sources":["assets/js/helpers.js","assets/js/script.js"],"names":["hitTemplate","hit","image","_highlightResult","name","value","_snippetResult","description","price","timer","$","document","ready","on","id","attr","url","alert","increaseLinkClicks","grid","css","masonry","itemSelector","columnWidth","gutter","isInitLayout","fancybox","caption","instance","item","data","siteUrl","type","length","src","afterShow","increaseImageClicks","loadImage","className","append","clearTimeout","setTimeout","remove","post","linkId","done","result","window","location","href","imageUrl","search","instantsearch","appId","apiKey","indexName","searchParameters","hitsPerPage","attributesToSnippet","snippetEllipsisText","addWidget","widgets","hits","container","templates","empty","searchBox","placeholder","autofocus","start"],"mappings":"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","file":"script.c10090b4.map","sourceRoot":"..","sourcesContent":["export function hitTemplate(hit) {\r\n    return `\r\n      <div class=\"hit\">\r\n        <div class=\"hit-image\">\r\n          <img src=\"${hit.image}\" />\r\n        </div>\r\n        <div class=\"hit-content\">\r\n          <div>\r\n            <div class=\"hit-name\">${hit._highlightResult.name.value}</div>\r\n            <div class=\"hit-description\">${\r\n              hit._snippetResult.description.value\r\n            }</div>\r\n          </div>\r\n          <div class=\"hit-price\">${hit.price}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  ","var timer;\n\n$(document).ready(function() {\n\n\n\t$(\".result\").on(\"click\", function() {\n\t\t\n\t\tvar id = $(this).attr(\"data-linkId\");\n\t\tvar url = $(this).attr(\"href\");\n\n\t\tif(!id) {\n\t\t\talert(\"data-linkId attribute not found\");\n\t\t}\n\n\t\tincreaseLinkClicks(id, url);\n\n\t\treturn false;\n\t});\n\n\n\tvar grid = $(\".imageResults\");\n\n\tgrid.on(\"layoutComplete\", function() {\n\t\t$(\".gridItem img\").css(\"visibility\", \"visible\");\n\t});\n\n\tgrid.masonry({\n\t\titemSelector: \".gridItem\",\n\t\tcolumnWidth: 200,\n\t\tgutter: 5,\n\t\tisInitLayout: false\n\t});\n\n\n\t$(\"[data-fancybox]\").fancybox({\n\n\t\tcaption : function( instance, item ) {\n\t        var caption = $(this).data('caption') || '';\n\t        var siteUrl = $(this).data('siteurl') || '';\n\n\n\t        if ( item.type === 'image' ) {\n\t            caption = (caption.length ? caption + '<br />' : '')\n\t             + '<a href=\"' + item.src + '\">View image</a><br>'\n\t             + '<a href=\"' + siteUrl + '\">Visit page</a>';\n\t        }\n\n\t        return caption;\n\t    },\n\t    afterShow : function( instance, item ) {\n\t        increaseImageClicks(item.src);\n\t    }\n\n\n\t});\n\n});\n\nfunction loadImage(src, className) {\n\n\tvar image = $(\"<img>\");\n\n\timage.on(\"load\", function() {\n\t\t$(\".\" + className + \" a\").append(image);\n\n\t\tclearTimeout(timer);\n\n\t\ttimer = setTimeout(function() {\n\t\t\t$(\".imageResults\").masonry();\n\t\t}, 500);\n\n\t});\n\n\timage.on(\"error\", function() {\n\t\t\n\t\t$(\".\" + className).remove();\n\n\t\t$.post(\"ajax/setBroken.php\", {src: src});\n\n\t});\n\n\timage.attr(\"src\", src);\n\n}\n\n\nfunction increaseLinkClicks(linkId, url) {\n\n\t$.post(\"ajax/updateLinkCount.php\", {linkId: linkId})\n\t.done(function(result) {\n\t\tif(result != \"\") {\n\t\t\talert(result);\n\t\t\treturn;\n\t\t}\n\n\t\twindow.location.href = url;\n\t});\n\n}\n\nfunction increaseImageClicks(imageUrl) {\n\n\t$.post(\"ajax/updateImageCount.php\", {imageUrl: imageUrl})\n\t.done(function(result) {\n\t\tif(result != \"\") {\n\t\t\talert(result);\n\t\t\treturn;\n\t\t}\n\t});\n\n}\n\n\nimport { hitTemplate } from \"./helpers\";\n\nconst search = instantsearch({\n  appId: \"STCRIU9DFR\",\n  apiKey: \"7cecb933edf4555a8f6b280fc9b721d8\",\n  indexName: \"search_engine\",\n  searchParameters: {\n    hitsPerPage: 5,\n    attributesToSnippet: [\"description:24\"],\n    snippetEllipsisText: \" [...]\"\n  }\n});\n\n\n\n\n// Uncomment the following widget to add hits list.\n\n search.addWidget(\n  instantsearch.widgets.hits({\n    container: \"#hits\",\n    templates: {\n      empty: \"No results.\",\n      item: function(hit) {\n        return hitTemplate(hit);\n      }\n    }\n  })\n); \n\n\nsearch.addWidget(\n\tinstantsearch.widgets.searchBox({\n\t  container: \"#searchbox\",\n\t  placeholder: \"Search for products\",\n\t  autofocus: false\n\t})\n  ); \n\n\n  search.start();"]}